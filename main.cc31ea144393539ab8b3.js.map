{"version":3,"sources":["webpack:///./index.js","webpack:///./hbs_files/headTemplate.hbs"],"names":["mainImgCardRef","document","querySelector","basketRef","basketModal","closeModal","currentLikesRef","basketModalContent","claerBasketRef","currentLikes","localStorageValue","localStorage","getItem","innerHTML","arrOfImgUrl","urls","fetch","then","response","json","answer","data","memes","slice","forEach","element","templatedAnswer","template","insertAdjacentHTML","likeRef","dislikeRef","addToBasket","addEventListener","addLike","deleteLike","addToBasketFunc","getLocalStorageValue","lastArrOfUrls","JSON","parse","console","log","event","settings","targetImg","path","children","src","push","setItem","stringify","target","disabled","parseInt","classList","add","remove","Handlebars","module","exports","container","depth0","helpers","partials","helper","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","hooks","helperMissing","nullContext"],"mappings":"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","file":"main.cc31ea144393539ab8b3.js","sourcesContent":["import './styles.css';\r\nimport template from './hbs_files/headTemplate.hbs';\r\n\r\nconst BASE_URL = 'https://api.imgflip.com/get_memes';\r\nconst containerRef = document.querySelector('.container');\r\nconst mainRef = document.querySelector('.main');\r\nconst mainImgCardRef = document.querySelector('.main-img-cards');\r\nconst basketRef = document.querySelector('.header-nav-button-basket');\r\nconst basketModal = document.querySelector('.basket-modal');\r\nconst closeModal = document.querySelector('.modal-close');\r\nconst currentLikesRef = document.querySelector('.current-number');\r\nconst basketModalContent = document.querySelector('.basket-modal-content');\r\nconst claerBasketRef = document.querySelector('.clear-basket');\r\nlet currentLikes = 0;\r\nlet localStorageValue = localStorage.getItem('numberOfLikes');\r\ncurrentLikesRef.innerHTML = localStorageValue;\r\nlet arrOfImgUrl = {\r\n  urls: [],\r\n};\r\n\r\nfetch(`${BASE_URL}`)\r\n  .then(response => {\r\n    return response.json();\r\n  })\r\n  .then(answer => {\r\n    const newArr = answer.data.memes;\r\n    const arr = newArr.slice(4, 50);\r\n\r\n    arr.forEach(element => {\r\n      const templatedAnswer = template(element);\r\n      mainImgCardRef.insertAdjacentHTML('afterbegin', templatedAnswer);\r\n\r\n      const likeRef = document.querySelector('.like');\r\n      const dislikeRef = document.querySelector('.dislike');\r\n      const addToBasket = document.querySelector('.add-to-basket');\r\n\r\n      likeRef.addEventListener('click', addLike);\r\n      dislikeRef.addEventListener('click', deleteLike);\r\n      addToBasket.addEventListener('click', addToBasketFunc);\r\n    });\r\n  });\r\n\r\nconst getLocalStorageValue = () => {\r\n  let urls = localStorage.getItem('imgsUrls');\r\n  const parsedUrls = JSON.parse(urls);\r\n  const lastArrOfUrls = parsedUrls.urls;\r\n  arrOfImgUrl.urls = lastArrOfUrls;\r\n  console.log(arrOfImgUrl);\r\n};\r\n\r\nconst openBasket = event => {\r\n  basketModal.classList.add('is-open');\r\n};\r\n\r\nconst closeBasket = event => {\r\n  if (event) {\r\n    basketModal.classList.remove('is-open');\r\n  }\r\n};\r\n\r\nconst addToBasketFunc = event => {\r\n  const settings = {\r\n    targetImg: `${event.path[2].children[0].src}`,\r\n  };\r\n  arrOfImgUrl.urls.push(settings.targetImg);\r\n  localStorage.setItem('imgsUrls', JSON.stringify(arrOfImgUrl));\r\n\r\n  getLocalStorageValue();\r\n};\r\ngetLocalStorageValue();\r\n\r\nconst createBasketContent = () => {\r\n  arrOfImgUrl.urls.forEach(element =>\r\n    basketModalContent.insertAdjacentHTML(\r\n      'afterbegin',\r\n      `<li class=\"modal-img-item\"><img class=\"basket-img\" src=${element} alt=\"\"></li>`,\r\n    ),\r\n  );\r\n};\r\n\r\ncreateBasketContent();\r\n\r\nconst addLike = event => {\r\n  if (event) {\r\n    currentLikes += 1;\r\n    currentLikesRef.innerHTML = currentLikes;\r\n    localStorage.setItem('numberOfLikes', `${currentLikes}`);\r\n    event.target.disabled = true;\r\n  }\r\n};\r\n\r\nconst deleteLike = event => {\r\n  if (currentLikes !== 0) {\r\n    currentLikes -= 1;\r\n    currentLikesRef.innerHTML = currentLikes;\r\n    localStorage.setItem('numberOfLikes', `${currentLikes}`);\r\n    event.target.disabled = true;\r\n  }\r\n};\r\n\r\nconst savedQuantity = () => {\r\n  if (localStorageValue) {\r\n    currentLikes = parseInt(localStorageValue);\r\n  }\r\n};\r\nsavedQuantity();\r\n\r\nconst clearBasket = () => {\r\n  basketModalContent.innerHTML = ' ';\r\n  localStorage.setItem('imgsUrls', []);\r\n  arrOfImgUrl.urls = [];\r\n};\r\n\r\nbasketRef.addEventListener('click', openBasket);\r\ncloseModal.addEventListener('click', closeBasket);\r\nclaerBasketRef.addEventListener('click', clearBasket);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"main-img-card-item-list\\\">\\r\\n  <li class=\\\"main-img-card-item\\\">\\r\\n    <img class=\\\"meme-card\\\" src=\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"url\") || (depth0 != null ? lookupProperty(depth0,\"url\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"url\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":31},\"end\":{\"line\":3,\"column\":38}}}) : helper)))\n    + \" alt=\\\"\\\">\\r\\n    <div class=\\\"card-overlay\\\">\\r\\n      <button class=\\\"card-button like material-icons\\\" type=\\\"button\\\">thumb_up_off_alt</button>\\r\\n      <button class=\\\"card-button add-to-basket\\\" type=\\\"button\\\">ADD TO BASKET</button>\\r\\n      <button class=\\\"card-button dislike material-icons\\\" type=\\\"button\\\">thumb_down_off_alt</button>\\r\\n    </div>\\r\\n  </li>\\r\\n</ul>\";\n},\"useData\":true});"],"sourceRoot":""}