{"version":3,"sources":["webpack:///./index.js","webpack:///./hbs_files/headTemplate.hbs"],"names":["mainImgCardRef","document","querySelector","basketRef","basketModal","closeModal","currentLikesRef","basketModalContent","currentLikes","arrOfImgUrl","imgs","localStorageValue","localStorage","getItem","innerHTML","fetch","then","response","json","answer","data","memes","forEach","element","templatedAnswer","template","insertAdjacentHTML","likeRef","dislikeRef","addToBasket","addEventListener","addLike","deleteLike","addToBasketFunc","event","setItem","settings","targetImg","path","children","src","push","JSON","stringify","target","disabled","parseInt","urls","parse","classList","add","remove","Handlebars","module","exports","container","depth0","helpers","partials","helper","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","hooks","helperMissing","nullContext"],"mappings":"oMAQMA,GAFeC,SAASC,cAAc,cAC5BD,SAASC,cAAc,SAChBD,SAASC,cAAc,oBACxCC,EAAYF,SAASC,cAAc,6BACnCE,EAAcH,SAASC,cAAc,iBACrCG,EAAaJ,SAASC,cAAc,gBACpCI,EAAkBL,SAASC,cAAc,mBACzCK,EAAqBN,SAASC,cAAc,yBAC9CM,EAAe,EACbC,EAAc,CAClBC,KAAM,IAGJC,EAAoBC,aAAaC,QAAQ,iBAC7CP,EAAgBQ,UAAYH,EAE5BI,MAjBiB,qCAkBdC,MAAK,SAAAC,GACJ,OAAOA,EAASC,UAEjBF,MAAK,SAAAG,GACQA,EAAOC,KAAKC,MAapBC,SAAQ,SAAAC,GACV,IAAMC,EAAkBC,IAASF,GACjCvB,EAAe0B,mBAAmB,aAAcF,GAEhD,IAAMG,EAAU1B,SAASC,cAAc,SACjC0B,EAAa3B,SAASC,cAAc,YACpC2B,EAAc5B,SAASC,cAAc,kBAE3CyB,EAAQG,iBAAiB,QAASC,GAClCH,EAAWE,iBAAiB,QAASE,GACrCH,EAAYC,iBAAiB,QAASG,SAI5C,IAUMF,EAAU,SAAAG,GACVA,IACF1B,GAAgB,EAChBF,EAAgBQ,UAAYN,EAC5BI,aAAauB,QAAQ,gBAArB,GAAyC3B,KAIvCwB,EAAa,SAAAE,GACI,IAAjB1B,IACFA,GAAgB,EAChBF,EAAgBQ,UAAYN,EAC5BI,aAAauB,QAAQ,gBAArB,GAAyC3B,KAIvCyB,EAAkB,SAAAC,GACtB,IAAME,EAAW,CACfC,UAAW,GAAGH,EAAMI,KAAK,GAAGC,SAAS,GAAGC,KAQ1C/B,EAAYC,KAAK+B,KAAKL,EAASC,WAC/BzB,aAAauB,QAAQ,WAAYO,KAAKC,UAAUlC,IAChDyB,EAAMU,OAAOC,UAAW,GAcpBlC,IACFH,EAAesC,SAASnC,IAK5B,IACQoC,IAAOnC,aAAaC,QAAQ,YACf6B,KAAKM,MAAMD,GACGrC,KACnBY,SAAQ,SAAAC,GAAO,OAC3BhB,EAAmBmB,mBACjB,aADF,+BAEiCH,EAFjC,eAQJpB,EAAU2B,iBAAiB,SAvER,SAAAI,GACjB9B,EAAY6C,UAAUC,IAAI,cAuE5B7C,EAAWyB,iBAAiB,SApER,SAAAI,GACdA,GACF9B,EAAY6C,UAAUE,OAAO,e,qBC5DjC,IAAIC,EAAa,EAAQ,QAEzBC,EAAOC,SAAWF,EAAoB,SAAKA,GAAY3B,SAAS,CAAC,SAAW,CAAC,EAAE,YAAY,KAAO,SAAS8B,EAAUC,EAAOC,EAAQC,EAAStC,GACzI,IAAIuC,EAAQC,EAAiBL,EAAUK,gBAAkB,SAASC,EAAQC,GACtE,GAAIC,OAAOC,UAAUC,eAAeC,KAAKL,EAAQC,GAC/C,OAAOD,EAAOC,IAKtB,MAAO,+GACHP,EAAUY,iBAAsM,mBAAnLR,EAAiH,OAAvGA,EAASC,EAAeH,EAAQ,SAAqB,MAAVD,EAAiBI,EAAeJ,EAAO,OAASA,IAAmBG,EAASJ,EAAUa,MAAMC,eAA+CV,EAAOO,KAAe,MAAVV,EAAiBA,EAAUD,EAAUe,aAAe,GAAI,CAAC,KAAO,MAAM,KAAO,GAAG,KAAOlD,EAAK,IAAM,CAAC,MAAQ,CAAC,KAAO,EAAE,OAAS,IAAI,IAAM,CAAC,KAAO,EAAE,OAAS,OAASuC,GAC7Y,+WACJ,SAAU,M","file":"main.7ff3fc47eb22ad70c9c2.js","sourcesContent":["// сделать чтобы лайк и дизлайк нельзя было нажать дважды один и тот же\r\n\r\nimport './styles.css';\r\nimport template from './hbs_files/headTemplate.hbs';\r\n\r\nconst BASE_URL = 'https://api.imgflip.com/get_memes';\r\nconst containerRef = document.querySelector('.container');\r\nconst mainRef = document.querySelector('.main');\r\nconst mainImgCardRef = document.querySelector('.main-img-cards');\r\nconst basketRef = document.querySelector('.header-nav-button-basket');\r\nconst basketModal = document.querySelector('.basket-modal');\r\nconst closeModal = document.querySelector('.modal-close');\r\nconst currentLikesRef = document.querySelector('.current-number');\r\nconst basketModalContent = document.querySelector('.basket-modal-content');\r\nlet currentLikes = 0;\r\nconst arrOfImgUrl = {\r\n  imgs: [],\r\n};\r\n\r\nlet localStorageValue = localStorage.getItem('numberOfLikes');\r\ncurrentLikesRef.innerHTML = localStorageValue;\r\n\r\nfetch(`${BASE_URL}`)\r\n  .then(response => {\r\n    return response.json();\r\n  })\r\n  .then(answer => {\r\n    const arr = answer.data.memes;\r\n\r\n    // const templatedAnswer = template(arr[5]);\r\n    // mainImgCardRef.insertAdjacentHTML('afterbegin', templatedAnswer);\r\n\r\n    // const likeRef = document.querySelector('.like');\r\n    // const dislikeRef = document.querySelector('.dislike');\r\n    // const addToBasket = document.querySelector('.add-to-basket');\r\n\r\n    // likeRef.addEventListener('click', addLike);\r\n    // dislikeRef.addEventListener('click', deleteLike);\r\n    // addToBasket.addEventListener('click', addToBasketFunc);\r\n\r\n    arr.forEach(element => {\r\n      const templatedAnswer = template(element);\r\n      mainImgCardRef.insertAdjacentHTML('afterbegin', templatedAnswer);\r\n\r\n      const likeRef = document.querySelector('.like');\r\n      const dislikeRef = document.querySelector('.dislike');\r\n      const addToBasket = document.querySelector('.add-to-basket');\r\n\r\n      likeRef.addEventListener('click', addLike);\r\n      dislikeRef.addEventListener('click', deleteLike);\r\n      addToBasket.addEventListener('click', addToBasketFunc);\r\n    });\r\n  });\r\n\r\nconst openBasket = event => {\r\n  basketModal.classList.add('is-open');\r\n};\r\n\r\nconst closeBasket = event => {\r\n  if (event) {\r\n    basketModal.classList.remove('is-open');\r\n  }\r\n};\r\n\r\nconst addLike = event => {\r\n  if (event) {\r\n    currentLikes += 1;\r\n    currentLikesRef.innerHTML = currentLikes;\r\n    localStorage.setItem('numberOfLikes', `${currentLikes}`);\r\n  }\r\n};\r\n\r\nconst deleteLike = event => {\r\n  if (currentLikes !== 0) {\r\n    currentLikes -= 1;\r\n    currentLikesRef.innerHTML = currentLikes;\r\n    localStorage.setItem('numberOfLikes', `${currentLikes}`);\r\n  }\r\n};\r\n\r\nconst addToBasketFunc = event => {\r\n  const settings = {\r\n    targetImg: `${event.path[2].children[0].src}`,\r\n  };\r\n\r\n  // basketModalContent.insertAdjacentHTML(\r\n  //   'afterbegin',\r\n  //   `<img class=\"basket-img\" src=${settings.targetImg} alt=\"\">`,\r\n  // );\r\n\r\n  arrOfImgUrl.imgs.push(settings.targetImg);\r\n  localStorage.setItem('imgsUrls', JSON.stringify(arrOfImgUrl));\r\n  event.target.disabled = true;\r\n\r\n  // const urls = localStorage.getItem('imgsUrls');\r\n  // const parsedUrls = JSON.parse(urls);\r\n  // const lastArrOfUrls = parsedUrls.imgs;\r\n  // lastArrOfUrls.forEach(element =>\r\n  //   basketModalContent.insertAdjacentHTML(\r\n  //     'afterbegin',\r\n  //     `<img class=\"basket-img\" src=${element} alt=\"\">`,\r\n  //   ),\r\n  // );\r\n};\r\n\r\nconst savedQuantity = () => {\r\n  if (localStorageValue) {\r\n    currentLikes = parseInt(localStorageValue);\r\n  }\r\n};\r\nsavedQuantity();\r\n\r\nconst createBasketContent = () => {\r\n  const urls = localStorage.getItem('imgsUrls');\r\n  const parsedUrls = JSON.parse(urls);\r\n  const lastArrOfUrls = parsedUrls.imgs;\r\n  lastArrOfUrls.forEach(element =>\r\n    basketModalContent.insertAdjacentHTML(\r\n      'afterbegin',\r\n      `<img class=\"basket-img\" src=${element} alt=\"\">`,\r\n    ),\r\n  );\r\n};\r\ncreateBasketContent();\r\n\r\nbasketRef.addEventListener('click', openBasket);\r\ncloseModal.addEventListener('click', closeBasket);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<ul class=\\\"main-img-card-item-list\\\">\\r\\n  <li class=\\\"main-img-card-item\\\">\\r\\n    <img class=\\\"meme-card\\\" src=\"\n    + container.escapeExpression(((helper = (helper = lookupProperty(helpers,\"url\") || (depth0 != null ? lookupProperty(depth0,\"url\") : depth0)) != null ? helper : container.hooks.helperMissing),(typeof helper === \"function\" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{\"name\":\"url\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":31},\"end\":{\"line\":3,\"column\":38}}}) : helper)))\n    + \" alt=\\\"\\\">\\r\\n    <div class=\\\"card-overlay\\\">\\r\\n      <button class=\\\"card-button like material-icons\\\" type=\\\"button\\\">thumb_up_off_alt</button>\\r\\n      <button class=\\\"card-button add-to-basket\\\" type=\\\"button\\\">ADD TO BASKET</button>\\r\\n      <button class=\\\"card-button dislike material-icons\\\" type=\\\"button\\\">thumb_down_off_alt</button>\\r\\n    </div>\\r\\n  </li>\\r\\n</ul>\";\n},\"useData\":true});"],"sourceRoot":""}